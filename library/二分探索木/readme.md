# 二分探索木のページ

## 概要
データを二分木で管理し、以下の処理を行うデータ構造.Nはデータ数とする。

|  処理  |  計算量  |
| ---- | ---- |
|  追加  |  最適:O(logN), 最悪O(N)  |
|  削除  |  最適:O(logN), 最悪O(N)  |
|  検索  |  最適:O(logN), 最悪O(N)  |
|  二分探索  |  最適:O(logN), 最悪O(N)  |

<br></br>

## 処理概要

### 追加 
根のノードから以下を行う。
追加したい値をVとする。  

1. 自分のノードに含まれる値 <= Vなら左のノードへ遷移する。もし、遷移先が無ければそこに新しいノードを追加する。  
2. そうでなければ右のノードへ遷移する。もし、遷移先が無ければそこに新しいノードを追加する。  

木が適切に作られていると、木の高さが1増えるごとにノード数は2倍になるのでデータ数がNの時、木の高さ、つまりlog(N)回辿ると新しいノードを貼る地点に辿り着く

<br></br>

### 削除 
根のノードから以下を行う。
削除したい値をVとする。  

削除したい値が見つかるまで以下を行う.もし見つからなかったら終わり。アルゴリズムからの要望はないので好きな処理にしてね。
1. 自分のノードに含まれる値 <= Vなら左のノードへ遷移する。もし、遷移先が無ければそこで終わり。  
2. そうでなければ右のノードへ遷移する。もし、遷移先が無ければそこで終わり。  
3. 削除したい場所に辿り着いたら以下の分岐に入る。　  
#### 削除パターン
1. 子ノードがない  
    そのままそのノードを削除すればいい
2. 子ノードが1つ  
    削除するノードの位置に子ノードを代入してあげればいい
3. 子ノードが2つ  
    削除ノードから1つ右遷移(削除パターンの条件から必ずある)し、その後、左側に行けるだけ行く。
    辿り着いたノードと削除ノードを取り替える。  
    ※1つ左に遷移した後辿れるだけ右に遷移したものと取り替えても別に問題ない。

参考サイト:
・https://qiita.com/maebaru/items/a47c2ef675a76e8816ab

verify
・https://algo-method.com/tasks/920

<br></br>

### 検索
根のノードから以下を行う。
検索したい値をVとする。  

検索したい値が見つかるまで以下を行う.もし見つからなかったら終わり。アルゴリズムからの要望はないので好きな処理にしてね。
1. 自分のノードに含まれる値 <= Vなら左のノードへ遷移する。もし、遷移先が無ければそこで終わり。  
2. そうでなければ右のノードへ遷移する。もし、遷移先が無ければそこで終わり。  
3. 見つかったら見つかった旨を報告

<br></br>
## NEXT
特に工夫の無い二分探索木ではソートされたリストが与えられると直線のグラフになってしまう。  
この時追加、削除などの計算量がO(N)になる。
これを解決するために<b>平衡二分探索木</b>が提案されている。

・AVL木  
・赤黒木  